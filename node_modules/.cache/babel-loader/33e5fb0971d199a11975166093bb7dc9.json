{"ast":null,"code":"var _jsxFileName = \"/home/wellington/\\xC1rea de Trabalho/projects/sd-016-b-project-frontend-online-store/src/components/DetailProduct.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { getProductsFromQuery } from '../services/api';\nimport Loading from './Loading';\nexport default class DetailProduct extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      product: []\n    };\n    this.getCategory = this.getCategory.bind(this);\n    this.addOnCart = this.addOnCart.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params: {\n          query\n        }\n      }\n    } = this.props;\n    this.getCategory(query);\n  }\n\n  getCategory(q) {\n    this.setState({\n      loading: true\n    }, async () => {\n      const information = await getProductsFromQuery(q);\n      this.setState({\n        loading: false,\n        product: information.results[0]\n      });\n    });\n  }\n\n  addOnCart() {\n    const {\n      product\n    } = this.state;\n    const produto = JSON.parse(localStorage.getItem('product')) || [];\n    produto.push({\n      item: { ...product\n      },\n      quantity: 1\n    });\n    localStorage.setItem('product', JSON.stringify(produto));\n  }\n\n  render() {\n    const {\n      loading,\n      product\n    } = this.state;\n    return loading ? /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      \"data-testid\": \"product-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, product.title), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-detail-add-to-cart\",\n      onClick: this.addOnCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, \"Adicionar ao carrinho de compras\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/carrinhodecompras\",\n      \"data-testid\": \"shopping-cart-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, \"Shopping Cart Button\")));\n  }\n\n}\nDetailProduct.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      query: PropTypes.string\n    })\n  }).isRequired\n};","map":{"version":3,"sources":["/home/wellington/Área de Trabalho/projects/sd-016-b-project-frontend-online-store/src/components/DetailProduct.jsx"],"names":["React","Component","Link","PropTypes","getProductsFromQuery","Loading","DetailProduct","constructor","state","loading","product","getCategory","bind","addOnCart","componentDidMount","match","params","query","props","q","setState","information","results","produto","JSON","parse","localStorage","getItem","push","item","quantity","setItem","stringify","render","title","propTypes","shape","string","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,oBAAT,QAAqC,iBAArC;AAEA,OAAOC,OAAP,MAAoB,WAApB;AAEA,eAAe,MAAMC,aAAN,SAA4BL,SAA5B,CAAsC;AACnDM,EAAAA,WAAW,GAAG;AACZ;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,KADE;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAb;AAKA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACD;;AAEDE,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAEC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAEC,UAAAA;AAAF;AAAV;AAAT,QAAmC,KAAKC,KAA9C;AACA,SAAKP,WAAL,CAAiBM,KAAjB;AACD;;AAEDN,EAAAA,WAAW,CAACQ,CAAD,EAAI;AACb,SAAKC,QAAL,CAAc;AACZX,MAAAA,OAAO,EAAE;AADG,KAAd,EAEG,YAAY;AACb,YAAMY,WAAW,GAAG,MAAMjB,oBAAoB,CAACe,CAAD,CAA9C;AACA,WAAKC,QAAL,CAAc;AACZX,QAAAA,OAAO,EAAE,KADG;AAEZC,QAAAA,OAAO,EAAEW,WAAW,CAACC,OAAZ,CAAoB,CAApB;AAFG,OAAd;AAID,KARD;AASD;;AAEDT,EAAAA,SAAS,GAAG;AACV,UAAM;AAAEH,MAAAA;AAAF,QAAc,KAAKF,KAAzB;AACA,UAAMe,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,KAA+C,EAA/D;AACAJ,IAAAA,OAAO,CAACK,IAAR,CAAa;AACXC,MAAAA,IAAI,EAAE,EAAE,GAAGnB;AAAL,OADK;AAEXoB,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAIAJ,IAAAA,YAAY,CAACK,OAAb,CAAqB,SAArB,EAAgCP,IAAI,CAACQ,SAAL,CAAeT,OAAf,CAAhC;AACD;;AAEDU,EAAAA,MAAM,GAAG;AACP,UAAM;AAAExB,MAAAA,OAAF;AAAWC,MAAAA;AAAX,QAAuB,KAAKF,KAAlC;AAEA,WAAQC,OAAO,gBAAG,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,gBACb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,qBAAY,qBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuCC,OAAO,CAACwB,KAA/C,CADF,eAEE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,qBAAY,4BAFd;AAGE,MAAA,OAAO,EAAG,KAAKrB,SAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAFF,eASE,oBAAC,IAAD;AACE,MAAA,EAAE,EAAC,oBADL;AAEE,qBAAY,sBAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAJF,CATF,CADF;AAkBD;;AA7DkD;AAgErDP,aAAa,CAAC6B,SAAd,GAA0B;AACxBpB,EAAAA,KAAK,EAAEZ,SAAS,CAACiC,KAAV,CAAgB;AACrBpB,IAAAA,MAAM,EAAEb,SAAS,CAACiC,KAAV,CAAgB;AACtBnB,MAAAA,KAAK,EAAEd,SAAS,CAACkC;AADK,KAAhB;AADa,GAAhB,EAIJC;AALqB,CAA1B","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { getProductsFromQuery } from '../services/api';\n\nimport Loading from './Loading';\n\nexport default class DetailProduct extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      loading: false,\n      product: [],\n    };\n\n    this.getCategory = this.getCategory.bind(this);\n    this.addOnCart = this.addOnCart.bind(this);\n  }\n\n  componentDidMount() {\n    const { match: { params: { query } } } = this.props;\n    this.getCategory(query);\n  }\n\n  getCategory(q) {\n    this.setState({\n      loading: true,\n    }, async () => {\n      const information = await getProductsFromQuery(q);\n      this.setState({\n        loading: false,\n        product: information.results[0],\n      });\n    });\n  }\n\n  addOnCart() {\n    const { product } = this.state;\n    const produto = JSON.parse(localStorage.getItem('product')) || [];\n    produto.push({\n      item: { ...product },\n      quantity: 1,\n    });\n    localStorage.setItem('product', JSON.stringify(produto));\n  }\n\n  render() {\n    const { loading, product } = this.state;\n\n    return (loading ? <Loading /> : (\n      <div>\n        <h1 data-testid=\"product-detail-name\">{product.title}</h1>\n        <button\n          type=\"button\"\n          data-testid=\"product-detail-add-to-cart\"\n          onClick={ this.addOnCart }\n        >\n          Adicionar ao carrinho de compras\n        </button>\n        <Link\n          to=\"/carrinhodecompras\"\n          data-testid=\"shopping-cart-button\"\n        >\n          <button type=\"button\">Shopping Cart Button</button>\n        </Link>\n      </div>\n    ));\n  }\n}\n\nDetailProduct.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      query: PropTypes.string,\n    }),\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}